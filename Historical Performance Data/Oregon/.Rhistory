Text = gsub(" NA", "", Text)) |>
select(Text) |>
mutate(Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)"))
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text) |>
mutate(Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)"))
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text) |>
mutate(Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event)
rawdata <- lapply(names_pdf, function(l){
read.csv(paste("tabula-",l,".csv", sep=""), header=F)
})|>
bind_rows(id="Gender")
rawdata <- lapply(names_pdf, function(l){
read.csv(paste("tabula-",l,".csv", sep=""), header=F)
})|>
bind_rows(id="Gender")
rawdata <- lapply(names_pdf, function(l){
read.csv(paste("tabula-",l,".csv", sep=""), header=F)
})|>
bind_rows(.,id="Gender")
rawdata <- lapply(names_pdf, function(l){
read.csv(paste("tabula-",l,".csv", sep=""), header=F)
})|>
bind_rows(.id="Gender")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text) |>
mutate(Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event)
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event)
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event)
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(".*",
Name = "[^0-9]+",
".+",
Mark = "[0-9:\\-\\./]+",
".*"))
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(".*",
Name = "[^0-9]+",
".+",
Mark = "[0-9:\\-\\./]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(".*",
Name = "[^0-9]+",
"\\.+",
Mark = "[0-9:\\-\\./]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
"\\.+",
Mark = "[0-9:\\-\\./]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
" \\.+ ",
Mark = "[0-9:\\-\\./]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
" \\.+ ",
Mark = "[0-9:\\-\\./ ]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9,]+",
" \\.+ ",
Mark = "[0-9:\\-\\./ ]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[,^0-9]+",
" \\.+ ",
Mark = "[0-9:\\-\\./ ]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[,^0-9]+",
" \\.+ ",
".*",
Mark = "[0-9:\\-\\./ ]+",
".*"), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
" \\.+ ",
".*",
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
" \\.+ ",
".*",
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
" \\.+ ",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[^0-9]+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-1-6]+"
".*"
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-1-6]+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9]+",
"\\.\\.\\.+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'\\.]+",
"\\.\\.\\.+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
"\\.\\.\\.+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
"\\.\\.+",
".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
"\\.\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
"\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’]+",
"\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
" \\.+ ",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
" \\.+ ",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
" \\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c(Name = "[A-Za-z, \\-0-9\\'’\\.]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9]*",
Name = "[A-Za-z, \\-0-9\\'’\\.]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9]*",
Name = "[A-Za-z, \\-\\'’\\.]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z]*",
Name = "[A-Za-z, \\-\\'’\\.]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z ]*",
Name = "[A-Za-z, \\-\\'’\\.]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z ]*",
Name = "[A-Za-z, \\-\\'’\\./]+",
" ?\\.+",
Mark = ".*"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z ]*",
Name = "[A-Za-z, \\-\\'’\\./]+",
" ?\\.+",
Mark = "[0-9\\.:\\'/ \\-]+"
), too_few = "debug")
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z ]*",
Name = "[A-Za-z, \\-\\'’\\./]+",
" ?\\.*",
Mark = "[0-9\\.:\\'/ \\-]+"
), too_few = "debug")
View(cleandata)
cleandata <- rawdata |>
mutate(Text = paste(V1,V2,V3),
Text = gsub(" NA", "", Text)) |>
select(Text, Gender) |>
mutate(Gender = ifelse(as.numeric(Gender) %% 2 == 0, "Girls", "Boys"),
Year = str_extract(Text, "^[12][90][0-9][0-9]"),
Text = str_to_title(Text),
Event = str_extract(Text, "([0-9x]+0(m|-Meter|-Yard) (Dash|(Medley )?Relay|Run|R|[A-Za-z]+ Hurdles|H)|(One|Two) Mile Run|(Long|High|Triple) Jump|Pole Vault|Shot Put|Javelin|Discus)")) |>
fill(Year, Event) |>
separate_wider_regex(Text, c("[0-9A-Za-z ]*",
Name = "[A-Za-z, \\-\\'’\\./]+",
" ?\\.*",
Mark = "[0-9\\.:\\'/ \\-⁄]+"
), too_few = "debug")
